---
layout: post
title: "断网条件下基于去中心化联邦学习的矿山冲击地压监测预警系统"
date: 2025-9-11 16:50 +0800
tags: [时间序列预测, 边缘AI, 机会网络]
toc:  true
excerpt:  "中国高校计算机大赛项目总结"

---



## 断网条件下基于去中心化联邦学习的矿山冲击地压监测预警系统

针对项目的问题归纳：

1.**项目核心要解决什么问题？**

核心解决三个痛点：1）传统硬件传感器部署成本高、覆盖有限；2）井下网络环境恶劣，常断网，导致预警信息无法上传、云端模型无法更新；3）现有预警算法准确率不高。我们通过矿工手机采集数据，利用改进的LSTM-Attention模型在手机端进行本地推理和训练，并通过蓝牙/WiFi直连在断网环境下实现预警信息的多跳传输和模型的去中心化协同训练，最终实现低成本、高可靠、高精度的冲击地压预警。

**痛点：矿用手机准确度不如固定传感器**

2.**为什么选择LSTM-Attention模型？相比纯LSTM或Transformer，它的优势是什么？**

LSTM擅长处理时序依赖，但对长序列中关键信息的捕捉能力会衰减。Transformer虽然强大，但其计算复杂度和参数量对手机端来说难以承受。LSTM-Attention是一种很好的折中：用LSTM捕捉时序关系，用Attention机制赋予不同时间步不同的权重，突出与冲击地压相关的关键微震前兆信号，在提升精度的同时保持了模型的轻量化，适合端侧部署。

3.**详细解释如何实现“去中心化联邦学习”的？参数是如何交换和聚合的？**

每个手机都是一个节点，本地训练后，只共享LSTM与attention层的参数（减少通信量）。当两台手机通过BLE或WiFi Direct进入通信范围时，会相互交换模型参数。聚合策略采用经典的FedAvg算法：将收到的邻居参数与自身参数进行加权平均，更新本地模型。维护了一个参数交换记录和贡献度统计，以确保训练的可追溯性。

4.**在设备发现和连接建立过程中，是如何处理Android不同厂商设备的兼容性问题的？**

我们进行了大量真机测试（列举测试过的品牌）。对于BLE，重点处理了不同手机对蓝牙后台扫描的限制和功耗策略差异。对于WiFi Direct，处理了不同UI邀请界面和连接建立超时等问题。我们通过封装统一的通信模块，内部处理这些兼容性差异，对上提供一致的接口。

5.**移动端运行TensorFlow Lite模型，做了哪些模型压缩和加速优化？**

1）**模型结构选择**：如之前所说，选择了计算量适中的LSTM-Attention。2）**量化**：将训练后的FP32模型转换为FP16或INT8格式，大幅减小模型体积和加速推理。

6.**多传感器（加速度计、陀螺仪、磁力计）数据是如何融合的？为什么选择方差和加权线性组合这种方式？**

方差能有效反映信号的波动强度，这与微震事件的能量释放特征相符。加权线性组合（公式7和12）是一种简单有效、计算开销小的特征级融合方法，非常适合在手机端实时计算。权重的确定（α, β, γ）是基于领域文献和初步实验经验设定的，未来可以通过优化算法进一步精细调整。

7.**系统的功耗控制是一个巨大挑战，有哪些具体的策略？**

1）**传感器采样策略**：采用自适应采样率，正常时低频采样，检测到异常时高频采样。2）**通信策略**：优先使用低功耗的BLE，仅在传输大参数包时启用耗电但高速的WiFi Direct。3）**计算策略**：模型训练和推理任务被精心调度，电量低于一定的阈值仅进行模型推理。

8.**如果重新做这个项目，会在哪些方面进行改进？**

1）**通信层面**：引入更专业的延迟容忍网络协议束（如Bundle Protocol）来代替自研的简单路由。2）**安全层面**：为参数交换和预警信息增加加密和身份认证机制，防止恶意节点攻击。3）**算法层面**：探索更多轻量化模型，如TinyML，并自动化权重系数（α, β, γ）的寻优。4）**工程层面**：使用Kafka和Redis来处理管理平台可能面临的高并发数据涌入问题。

9.**如何评估整个系统的最终效果？除了准确率，还关注哪些指标？**

- **算法指标**：MSE, MAE（准确率）。
- **通信指标**：端到端传输延迟（≤5分钟）、连接稳定性（≥15分钟）。
- **资源指标**：内存占用（≤150MB）、CPU占用率（≤20%）、8小时耗电量（≤35%）。
- •**业务指标**：预警信息的漏报率、误报率。我们通过模拟实验对前三个指标进行了量化验证。

10.**为什么选择使用 MQTT 而不是其他协议（如 HTTP、CoAP 等）？**

（1）**轻量级和高效节能**

- **协议开销极小**：MQTT 的报文头部最小只有 2 字节，与 HTTP 等协议复杂的头部和交互相比，极大地减少了网络带宽消耗。
- **节省电量**：对于使用电池供电的设备（如传感器），减少数据传输量和保持低功耗至关重要。MQTT 的轻量特性和“一次交付”机制，能显著延长设备续航时间。

（2）**基于发布/订阅（Pub/Sub）模型**

- **解耦**：发布者和订阅者不需要知道彼此的存在，只需要连接到同一个代理服务器（Broker）。这使得系统极具可扩展性，添加新设备或服务时无需修改现有设备的代码。
- **一对多通信**：一个设备发布一条消息，可以被多个订阅了该主题的客户端同时接收。这对于向一组设备广播指令或分发数据非常高效。

（3）**支持双向实时通信**

- 虽然 MQTT 常用于设备上报数据（上传），但它同样支持服务器主动向设备下发指令、配置或固件更新（下发），实现了真正的双向通信，而不需要设备频繁地轮询服务器，减少了不必要的请求和资源浪费。

11.**项目创新点是什么**？

（1） 将去中心化联邦学习这种模型训练方式引入煤矿和断网场景，解决了 煤矿断网条件下无法进行模型集中式训练与云端聚合的难题。  （2） 将时间序列预测的前沿研究成果——“注意力机制”引入冲击地压预警方法，增强了算法捕捉各影响因素间非线性关系的能力。  （3） 创新地提出将移动群智感知应用到矿井冲击地压监测领域，摒弃了传统采 用无线传感器网络进行监测的落后感知方式。  

（4） 创新地提出了矿井环境混合传输策略，用软件实现了机会传输的完整流程。

12.**BLE与WiFi Direct 对比**

| 特性             | BLE (蓝牙低功耗)                                             | Wi-Fi Direct                                                 |
| :--------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| **功耗**         | **极低**。专为低功耗设计，使用纽扣电池的设备可运行数月甚至数年。 | **高**。功耗与普通 Wi-Fi 相近，对设备电量消耗较大，不适合电池驱动的物联网设备。 |
| **数据传输速率** | **低** (理论峰值 ~2 Mbps，实际通常 < 1 Mbps)。适合传输传感器读数、指令等小数据包。 | **非常高** (理论峰值可达 250+ Mbps，取决于 Wi-Fi 标准)。适合传输大文件、高清视频流、屏幕镜像。 |
| **通信范围**     | **短** (通常 10-30 米，受环境限制)。                         | **长** (通常 50-200 米，受环境限制)。覆盖范围远大于 BLE。    |
| **连接延迟**     | **低** (通常几毫秒)。连接和传输数据非常迅速。                | **较高**。建立连接需要的时间比 BLE 长（可能需要数秒）。      |
| **连接数**       | **支持一对一、一对多（广播模式）和网状网络**。一个中央设备可以连接多个外围设备。 | **通常是一对一，或一对少数（最多可能连接 5-8 台设备，但体验可能下降）**。 |
| **易用性与配对** | **非常简单**。通过蓝牙配对流程，用户体验简单直观。           | **相对复杂**。连接过程类似于连接到一个新的 Wi-Fi 网络，可能需要选择设备并输入密码。 |
| **安全性**       | **强**。提供 AES-128 加密和安全配对方式，足以满足大多数应用的安全需求。 | **非常强**。支持 WPA2/WPA3 加密，安全级别与家庭/企业 Wi-Fi 网络相同，非常安全。 |
| **典型应用场景** | 物联网设备（如智能手环、智能门锁、温湿度传感器）、**Beacon**（室内定位、推送通知）、无线键盘/鼠标、健康监测设备。 | 大文件快速分享（如照片、视频）、**无线打印**、**屏幕镜像/投屏**（如 Miracast）、设备间直接游戏。 |
| **成本与复杂度** | **低**。芯片和模块成本低，集成和开发相对简单。               | **高**。芯片成本和功耗更高，软件栈更复杂。                   |



### 项目相关图片

1.分层分布式架构

![](/img/blog12/1.png){: .align-center}

2.系统总架构图

![](/img/blog12/2.png){: .align-center}

3.分层技术路线图

![](/img/blog12/3.png){: .align-center}

4.混合通信流程与机会通信流程

![](/img/blog12/4.png){: .align-center}

![](/img/blog12/5.png){: .align-center}

5.APP效果与web效果

![](/img/blog12/6.png){: .align-center}

![](/img/blog12/7.png){: .align-center}

![](/img/blog12/8.png){: .align-center}

![](/img/blog12/9.png){: .align-center}

![](/img/blog12/10.png){: .align-center}